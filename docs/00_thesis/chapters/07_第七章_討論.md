# 第七章 討論

本章針對第六章的實驗結果進行深入討論與詮釋，分析各實驗發現的意義，並探討其對臨床應用的啟示。

## 7.1 模型選擇與效能分析

### 7.1.1 Logistic Regression 的穩定優勢

綜合十種模型在三項預測任務的結果，Logistic Regression 表現最為穩定：在三項任務中皆達到最高或接近最高的 AUC，且 Sensitivity/Specificity 平衡良好，適合作為臨床應用的基準模型。此結果與 Sun et al. (2017) 系統性回顧中 LR 長期作為疾病預測主流方法的觀察一致。

### 7.1.2 傳統統計方法的表現差異

LDA 在三項任務中的 AUC 與 LR 幾乎一致（高血壓 0.720 vs 0.721、高血糖 0.936 vs 0.938、高血脂 0.867 vs 0.867），然而其 Sensitivity 極低（高血壓 0.037、高血脂 0.118），顯示 LDA 在類別不平衡資料中傾向將樣本歸類為多數類。此結果與 LDA 的決策邊界特性一致——當類別先驗機率差異懸殊時，判別邊界偏向少數類方向。

NB 在三項任務中的 AUC 均低於 LR 約 1~2%，其特徵獨立性假設在生理指標間存在相關性（如 SBP 與 DBP、BMI 與血脂）的情境下，限制了模型的判別能力。

### 7.1.3 集成模型與神經網路

Random Forest 與 XGBoost 表現相近，兩者皆為強健的集成方法，但傾向保守預測（高 Specificity、低 Sensitivity）。MLP 穩定性不足，在高血壓與高血脂任務中呈現極端的預測行為（幾乎全部預測為非患病），標準差亦較大。LightGBM 表現接近 XGBoost，驗證了梯度提升框架在此任務的一致性。KNN 在所有任務中表現最差（AUC 0.630-0.782），因其基於距離的決策方式在高維特徵空間中效率偏低，且不支援 class_weight 調整，導致在不平衡資料上 Sensitivity 極低。Decision Tree 預測效能亦偏低，單一決策樹容易過擬合，不建議作為最終預測模型。

### 7.1.4 疾病間預測難度差異

三項任務中，高血糖的 AUC 普遍最佳（除 KNN 外，所有模型 AUC > 0.83），可能因 FBG 本身即為診斷指標的直接前驅，具有極高的預測價值。高血壓的預測效能相對較低（AUC 0.630-0.743），反映血壓的波動性較大，且受更多環境因素影響。

整體而言，簡單的線性模型在結構化健檢資料上已具備與複雜模型相當的排序能力，此發現對臨床部署具有重要意義——無需複雜的模型即可達到實用的預測效能。

## 7.2 特徵工程的價值

### 7.2.1 疾病特異性預測因子

SHAP 特徵重要性分析清楚呈現了疾病特異性：高血壓預測以血壓相關特徵（SBP、DBP）為主導；高血糖預測以空腹血糖（FBG）及代謝相關指標為主；高血脂預測則以總膽固醇（TC）與腎功能變化（ΔeGFR）最為重要。這些發現符合臨床直覺，也為個人化風險評估與健康管理建議提供了明確的指引。

### 7.2.2 Δ 特徵的雙重角色

Δ 特徵消融實驗揭示了一個重要的雙重特性：

1. **資訊冗餘**：當同時有 Y-2 與 Y-1 時，Δ 特徵為冗餘資訊（Δ = Y-1 − Y-2），模型可自行學習變化量，故移除後 AUC 不變。

2. **資料受限情境的價值**：當僅有 Y-1 資料時，Δ 特徵可提供約 2% 的 AUC 提升（高血壓 +2.3%、高血脂 +2.1%、高血糖 +1.5%），展現其實用價值。Δ 特徵用 8 個變數編碼了兩個時間點的關係資訊，達到特徵壓縮的效果。

此發現與 Yang et al. (2025) 中 δ-FPG 特徵的高重要性相呼應，為縱向特徵工程在慢性疾病預測的應用提供了跨疾病的實證支持。

### 7.2.3 特徵精簡的可行性

特徵選擇消融實驗顯示，僅使用 SHAP 排序前 5 個重要特徵，LR 模型在三項任務中的 AUC 降幅皆小於 0.5%。XGBoost 對特徵數量略為敏感，但差異同樣有限。此結果證實精簡模型在維持預測性能的同時可大幅降低資料收集成本，對基層醫療單位的實務部署具有重要意義。

## 7.3 類別不平衡與資料策略

### 7.3.1 不平衡處理方法的等價性

五種類別不平衡處理方法（Baseline、class_weight、SMOTE、ADASYN、RandomUnderSampler）的 AUC 差異小於 0.2%，顯示不同的不平衡處理策略對模型的排序能力無顯著影響。然而，四種處理方法皆可將 Sensitivity 從極低值（0.04-0.34）提升至 0.70-0.88，效果近乎等同。

class_weight（balanced 設定）為最佳實務選擇：效果等同於 SMOTE 等過採樣方法，但實作更簡單、無需生成合成樣本、不改變資料分佈。balanced 設定在維持 AUC 的同時，Sensitivity 可提升至 0.74-0.85，適合疾病篩檢應用。

### 7.3.2 資料篩選策略的穩健性

排除窗口起點已確診樣本後，AUC 變化極小（|差異| ≤ 1.3%）。六組比較中，五組 AUC 略微下降，僅 RF 在高血壓任務中略微上升（+1.3%）。AUC 下降的合理解釋為：移除窗口起點已確診個案等於移除「容易預測」的正類樣本（持續患病者），使預測任務聚焦於更困難的「新發」個案。

包含所有樣本（策略 A）不僅反映真實篩檢情境（篩檢對象包含已有風險者），且排除與否對 AUC 的影響在可接受範圍內，佐證本研究結果的穩健性。

## 7.4 可解釋性分析

### 7.4.1 符號回歸的臨床意涵

符號回歸實驗發現了極簡但有效的預測公式：

1. **高血壓**：$0.130 \times \exp(SBP_{Y-2})$——僅使用四年前收縮壓，AUC 0.745，與 Random Forest（0.743）相近。公式極為簡潔，臨床可解釋性高。

2. **高血糖**：$0.114 \times FBG_{Y-1}$——簡單線性公式，僅使用兩年前空腹血糖，AUC 0.943，甚至略優於 LR（0.938），驗證了空腹血糖的高預測價值。

3. **高血脂**：$0.043 \times \exp(TC_{Y-2})$——使用四年前總膽固醇，AUC 0.801，低於 LR（0.867），較複雜的模型仍有提升空間。

### 7.4.2 簡單模型的實務潛力

單變數公式即具預測力（AUC 0.745-0.943），且公式符合臨床直覺——每項疾病的最佳預測因子皆為其診斷指標的歷史值。高血糖公式（AUC 0.943）甚至超越 LR，顯示簡單公式在某些任務中可達到最佳效能。這些簡單公式易於在基層醫療單位實施，不需複雜的計算資源，展現了可解釋 AI 在實務應用的潛力。

## 7.5 縱向資料的累積效益

健檢次數比較實驗顯示，累積更多次健檢紀錄有助於提升預測性能，但效益因疾病而異：

1. **高血壓受健檢次數影響最大**：從 1 次健檢（AUC 0.666）到 4 次健檢（AUC 0.835），提升幅度達 16.9 個百分點。特別是從 3 次到 4 次的跳躍最為顯著（0.676 → 0.835），顯示更長期的血壓縱向趨勢對高血壓預測具有關鍵價值。

2. **高血糖與高血脂受影響較小**：高血糖從 0.931 提升至 0.945（+1.4%），高血脂從 0.867 提升至 0.882（+1.5%）。這兩項疾病的單次健檢資料已具有高預測力，額外的縱向資料帶來的邊際效益有限。

3. **縱向資料的不對稱效益**：健檢次數的增加對不同疾病的預測改善幅度差異甚大，這與特徵重要性分析結果一致——高血壓預測較依賴多個時間點的血壓變化趨勢。

此結果為鼓勵民眾定期健檢提供了實證支持，尤其對高血壓風險族群而言，持續的縱向追蹤具有更大的預測價值。

## 7.6 多任務學習的適用性

MTL 未能展現預期優勢的可能原因包括：

1. **任務相關性偏低**：三項疾病的標籤相關性較弱（Phi 係數 < 0.1），共享特徵表示無法同時有效服務三項預測目標。

2. **資料規模充足**：滑動窗口資料集含 13,514 筆紀錄，各任務已有足夠樣本獨立訓練，MTL 的「資料增強」效益不顯著。

3. **任務難度不均**：高血糖 AUC 高達 0.93，高血壓僅 0.73，難度差距可能導致共享層的梯度被較易任務主導。

在本研究的資料集上，MTL 與 STL 的預測效能無顯著差異（AUC 差異 ≤ 0.8%）。考量到 STL 架構更為簡單且效能略優，獨立模型為合理選擇。

## 7.7 綜合討論

綜合以上各項實驗的討論，本研究的核心發現可歸納為以下幾點：

1. **模型效能**：Logistic Regression 在三項任務中皆表現穩定，簡單的線性模型在結構化健檢資料上已具備與複雜模型相當的排序能力。

2. **特徵重要性**：疾病特異性明顯，各疾病的最重要預測因子為其對應的診斷指標歷史值。Δ 特徵在 Top 10 中佔 30-50%，在資料受限情境下具有約 2% 的 AUC 提升效益。

3. **模型簡化**：Top 5 特徵即可達到接近完整效能，符號回歸的單變數公式亦具有實用的預測力。

4. **方法穩健性**：類別不平衡處理方法間無顯著差異，資料篩選策略的 AUC 變動 ≤ 1.3%，MTL 與 STL 差異 ≤ 0.8%，多項對比實驗皆驗證了研究方法的穩健性。

5. **縱向資料價值**：累積更多健檢紀錄有助於提升預測性能，尤其對高血壓預測的改善最為顯著（+16.9%），支持鼓勵民眾定期健檢的公共衛生政策。

6. **健康族群的預測行為**：對於歷次健檢指標皆正常且穩定的個體，模型將輸出低風險機率，此行為反映於各任務的高 Specificity 表現。更重要的是，Δ 特徵使模型能捕捉「數值仍在正常範圍內但已出現惡化趨勢」的亞健康狀態，搭配 SHAP 分析可指出個人化的主要風險因子，為預防醫學的早期介入提供依據。

---

撰寫狀態：章節重組完成
最後更新：2026-02-24
維護者：紀伯喬
