# Liu et al. (2024) 台中榮總糖尿病預測研究 - 演講稿

**總時長**: 10 分鐘（每頁約 1 分鐘）

---

## Slide 1: 研究概覽（1分鐘）

各位好，今天要跟大家分享一篇台中榮總家庭醫學科在 2024 年底發表的重要研究。

這篇論文發表在 Diagnostics 期刊，標題是「使用機器學習預測健康成人的第二型糖尿病發生率」。這是一個 10 年的縱向研究，從 2011 年追蹤到 2021 年，總共納入了 6,687 位相對健康的成人。

**這篇研究有三個重要意義**：
- 第一，這是**台灣第一個**使用電子病歷結合機器學習來預測糖尿病的研究
- 第二，採用 10 年縱向設計，追蹤時間夠長
- 第三，也是最重要的，**首次發現甲狀腺激素在糖尿病預測中的重要性**，這是過去文獻完全沒有注意到的

這個發現對我們的三高預測研究也有重要的參考價值。

---

## Slide 2: 研究背景與動機（1分鐘）

為什麼要做這個研究？作者在背景中提到三個關鍵問題：

**第一個問題**：太平洋島國的糖尿病盛行率是全世界最高的，台灣也面臨同樣的挑戰，但我們缺乏有效的預測工具。

**第二個問題**：更嚴重的是，糖尿病的發病可能在確診前就已經延遲了 9 到 12 年。也就是說，當病人來看診時，可能已經出現視網膜病變等併發症了。所以我們需要在「前期」就把高風險的人找出來。

**第三個問題**：雖然亞太地區的糖尿病負擔很重，但使用機器學習來預測糖尿病的研究卻非常少，台灣更是完全沒有。

因此，作者希望透過這個研究，開發一個可以在健康檢查時使用的預測模型，提早發現高風險者，讓他們有機會透過生活方式的改變來延緩或避免發病。

---

## Slide 3: 資料來源與研究對象（1分鐘）

接下來看資料來源。研究團隊從台中榮總的臨床資料中心取得電子病歷資料，時間範圍是 2011 年 1 月到 2021 年 6 月，長達 10 年。

**納入條件很明確**：
- 相對健康的成人
- 在這 10 年內至少做過 2 次自費健康檢查
- 兩次檢查的間隔要小於 4 年

**排除條件**：
- 在研究期間前就已經確診糖尿病的人
- 資料有缺失的人

有人可能會問：**為什麼要排除已經確診的患者？**

這是因為研究目標是「預測未來誰會得糖尿病」，而不是「管理已經確診的患者」。如果納入已確診的人，模型會學到「正在吃降血糖藥的人有糖尿病」，這就變成作弊了。我們要的是真正能預測「健康人未來發病」的能力。

最後符合條件的有 6,687 位成人，平均年齡 57.7 歲，平均空腹血糖 89.6，HbA1c 5.5%，都算是相對健康的族群。

---

## Slide 4: 預測特徵（33項）（1分鐘）

研究團隊從電子病歷中提取了 33 項特徵來建立預測模型。這些特徵涵蓋了健康檢查中常見的項目：

**人口學特徵**：年齡、性別

**生理測量**：身高、體重、腰圍、脈搏、呼吸速率

**血液檢驗**，這是最重要的部分：
- 血糖相關：空腹血糖、糖化血色素
- 血脂相關：總膽固醇、三酸甘油酯、高密度脂蛋白、低密度脂蛋白
- 肝功能：AST、ALT、膽紅素、r-GT
- 腎功能：肌酸酐、尿素氮、腎絲球過濾率
- **甲狀腺功能**：促甲狀腺激素 TSH、**游離甲狀腺素 fT4**
- 其他：血紅素、血小板、C 反應蛋白、尿酸等

還有尿液檢查：尿糖、尿酮

值得注意的是，**甲狀腺功能檢查在一般的糖尿病篩檢中並不常規檢測**，但這個研究發現它竟然很重要，這是後面要強調的重點。

---

## Slide 5: 糖尿病診斷標準與資料分類（1分鐘）

研究團隊使用國際標準來定義糖尿病：
- **HbA1c 大於 6.5%**，或
- **空腹血糖大於 126 mg/dL**

符合任一條件就被歸類為「潛在糖尿病」。

在 10 年的追蹤期間，這 6,687 位原本健康的成人被分成兩類：
- **Class 0（正常）**：6,967 人，佔 98.9%
- **Class 1（潛在糖尿病）**：76 人，佔 1.1%

這個比例大約是 **92 比 1**，屬於**極度不平衡**的資料。

這個不平衡會帶來一個重要問題：如果模型很懶，全部都預測為「正常」，準確率就可以達到 98.9%，看起來很好，但實際上完全沒有預測能力。所以待會看到，**準確率高不代表模型好**，我們需要用更嚴謹的指標來評估。

資料處理方面，缺失率超過 20% 的欄位直接移除，剩下的缺失值用 -999 來標記。資料分割採用 60% 訓練集、40% 測試集。

---

## Slide 6: 機器學習模型（1分鐘）

研究團隊比較了三種機器學習模型：

**第一種是 Random Forest（隨機森林）**：
這是一種集成學習方法，由多個決策樹組成，每個樹獨立評估，最後透過投票機制來決定分類結果。

**第二種是 Logistic Regression（邏輯迴歸）**：
這是傳統的線性分類器，輸出值限制在 0 到 1 之間，主要用於二元分類。

**第三種是 XGBoost（極致梯度提升）**：
這是比較新的演算法，它的特點是每次迭代都會加入新的函數來修正前一棵樹的錯誤，而且會進行隨機特徵採樣，增加模型的多樣性和穩健性。

為了增強模型的可解釋性，研究團隊使用了 **SHAP 分析**，這是一種視覺化工具，可以看出模型對每個特徵的重視程度。這對醫療應用很重要，因為醫生需要知道模型是根據什麼來做預測的。

---

## Slide 7: 模型性能比較（1分鐘）

來看三個模型的表現。這張表格很關鍵，請大家仔細看：

| 模型 | Accuracy | Recall (Class 1) | AUC-ROC |
|------|----------|------------------|---------|
| Random Forest | 99% | 1% | 0.74 |
| Logistic Regression | 99% | 0% | 0.90 |
| XGBoost | 98% | 33% | **0.93** |

**第一個觀察**：Random Forest 和 Logistic Regression 的準確率都是 99%，看起來很好，但它們對糖尿病病例（Class 1）的召回率（Recall）卻只有 1% 和 0%，幾乎完全沒有預測能力。

**第二個觀察**：XGBoost 的準確率最低，只有 98%，但對糖尿病病例的召回率是 33%，而且 **AUC-ROC 高達 0.93**，是三個模型中最好的。

這裡揭示了一個重要的道理：**在資料極度不平衡的情況下，準確率會騙人**。因為資料中 98.9% 都是正常人，只要全部預測為正常，準確率就很高了。

**AUC-ROC 才是真正衡量模型分辨能力的指標**，它考慮了模型在所有閾值下的表現，不受資料分布影響。所以作者最後選擇 **XGBoost 作為最佳模型**。

---

## Slide 8: ⭐ Top 5 重要特徵（1分鐘）

透過 XGBoost 和 SHAP 分析，研究團隊找出了預測糖尿病最重要的 5 個特徵：

**第 1 名：HbA1c（糖化血色素）** - 這是預期中的結果，HbA1c 是糖尿病診斷的金標準。

**第 2 名：Fasting Blood Glucose（空腹血糖）** - 這也是預期中的，幾乎所有糖尿病研究都會發現空腹血糖很重要。

**第 3 名：Weight（體重）** - 這也不意外，肥胖是糖尿病的主要風險因子。

**第 4 名：fT4（游離甲狀腺素）** - **這是最大的亮點！**

**第 5 名：Triglycerides（三酸甘油酯）** - 代謝症候群的常見指標，也是預期中的。

前 5 名中有 4 個都是預期中的結果，**只有 fT4 是完全意外的發現**。作者在論文中反覆強調：**這是第一個使用機器學習證明甲狀腺激素在糖尿病預測中重要性的研究**。

而且 fT4 排名第 4，甚至超越了血紅素、肝功能、腰圍、LDL 等傳統指標，這是過去文獻完全沒有注意到的。

---

## Slide 9: 甲狀腺與糖尿病的關聯（1分鐘）

為什麼 fT4（游離甲狀腺素）是突破性發現？讓我從幾個角度來說明：

**第一，過去研究完全忽視了這個指標**。作者說，過去的糖尿病預測研究都聚焦在血糖、血脂、BMI，沒有人發現甲狀腺的重要性。

**第二，臨床上不常規檢測**。在一般的糖尿病篩檢中，甲狀腺功能並不包含在內，除非懷疑有甲狀腺疾病才會檢查。

**第三，但生理機制其實有道理**。作者引用文獻指出：
- 甲狀腺激素負責調節代謝和能量消耗
- 它參與胰島素調節和血糖穩態
- 可以增強胰島 β 細胞的存活率

**第四，文獻證據支持**。有研究發現：
- 亞臨床甲狀腺功能低下是前驅糖尿病患者的風險因子
- 甲亢和甲減都與第二型糖尿病相關
- 甲狀腺功能異常者的糖尿病併發症發生率更高

**第五，成本效益考量**。fT4 檢測相對便宜，適合大規模篩檢。

因此作者建議，未來應該考慮將甲狀腺功能納入糖尿病的常規風險評估中。

---

## Slide 10: 研究優勢、限制與啟示（1分鐘）

最後總結這篇研究的優勢與限制。

**優勢方面**：
1. **台灣首創** - 第一個使用 EHR + ML 預測糖尿病的研究
2. **高準確率** - XGBoost 的 AUC 達到 0.93
3. **新發現** - 首次證明甲狀腺激素的重要性
4. **臨床應用性高** - 使用常規健檢數據，成本效益好

**限制方面**：
1. **外部驗證不足** - 只有台中榮總單一中心的資料
2. **特徵數量多** - 33 項特徵，小型醫療系統可能收集不全
3. **資料極度不平衡** - 92:1 的比例，導致模型對少數類別的預測能力較差

**對我們研究的啟示**：
1. **特徵選擇** - fT4 可以納入我們的三高預測模型考量
2. **評估指標** - 如果資料不平衡，要用 AUC-ROC 而非 Accuracy
3. **模型選擇** - XGBoost 在不平衡資料表現優異
4. **外部驗證** - 要注意泛化能力，避免過度擬合

總結來說，這篇研究為糖尿病的早期預測提供了新的方向，特別是甲狀腺功能這個過去被忽視的因子，值得我們在三高預測研究中進一步探討。

謝謝大家！

---

## 補充：可能的 Q&A

### Q1: 為什麼不使用驗證集？
A: 論文沒有說明，但可能是樣本數考量（Class 1 只有 76 人）。這是一個限制。

### Q2: 如何處理資料不平衡？
A: 論文沒有使用 SMOTE 等技術，這也是限制之一。未來研究可以改進。

### Q3: 這個模型可以直接應用在臨床嗎？
A: 需要外部驗證。作者也提到要在其他醫療系統測試，確認泛化能力。

### Q4: fT4 的臨界值是多少？
A: 論文沒有提供，因為是用機器學習模型整合判斷，而非單一指標。

### Q5: 與我們的三高預測研究有何不同？
A: 主要差異：
- 他們預測單一疾病（糖尿病），我們預測三高同時
- 他們用真實資料，我們用 Synthea 合成資料
- 他們用靜態特徵，我們有時間變化量（Δ特徵）
- 但評估指標的選擇邏輯（AUC-ROC）可以參考
