# Taiwan MJ 高血壓預測論文深度解析

> **論文**：Next-visit prediction and prevention of hypertension using large-scale routine health checkup data
> **期刊**：PLoS ONE (2024)
> **作者**：Wang, Chu, Jang（國立臺灣大學、三軍總醫院）
> **連結**：https://pmc.ncbi.nlm.nih.gov/articles/PMC11560048/

---

## 📋 基本資訊

| 項目 | 內容 |
|------|------|
| **研究主題** | 預測下次健檢時是否會有高血壓 |
| **資料來源** | Taiwan MJ Health Research Foundation |
| **樣本數** | 207,488 人（382,610 次健檢） |
| **時間範圍** | 2010-2017（7年） |
| **主要模型** | XGBoost, LightGBM, Random Forest |

---

## 🎯 研究核心

### 預測目標
**預測「下一次」健檢時是否會有高血壓**

與我們的研究不同：
- 他們：預測「下次訪問」（短期）
- 我們：預測「T3 時間點」（長期，2-6 年）

### 創新點：虛擬健檢
- 假設病人「減重 X 公斤」
- 根據相關係數調整其他指標（如血壓）
- 重新預測：如果減重，高血壓風險會降多少？
- **臨床價值**：給醫生具體建議「你減 5 公斤，風險降 20%」

---

## 📊 資料設計

### 資料結構

```
每個病人有多次健檢記錄：
Patient A: Visit 1 → Visit 2 → Visit 3 → Visit 4
           ↓        ↓        ↓
         用來訓練   用來訓練  用來測試
```

### 特徵提取

| 項目 | 數量 |
|------|------|
| 每次健檢的原始特徵 | 266 個 |
| 最終特徵向量維度 | 1,335 |

**特徵包含**：
- 體檢數據（血壓、身高體重、血液檢查等）
- 問卷回答（生活習慣、家族病史等）
- **多次健檢的歷史資訊**

### 缺失值處理

| 類型 | 處理方式 |
|------|----------|
| 體檢數據 | 線性插值 |
| 問卷回答 | 設定預設值 |

---

## 🧪 實驗設計

### 模型比較

| 模型 | AUC | Precision | Recall | F1 |
|------|-----|-----------|--------|-----|
| **XGBoost** | **88.94%** | 69.59% | 77.90% | 73.51% |
| LightGBM | 88.89% | - | - | - |
| Random Forest | 88.90% | - | - | - |
| Baseline（僅用最後血壓） | 低很多 | - | - | - |

### 評估策略
- **5-fold 交叉驗證**
- 訓練集：40,488 樣本
- 測試集：74,802 樣本

---

## 🔍 關鍵發現

### 1. 訪問次數很重要
> "訪問次數越多，預測準確度越高"

這印證了我們使用 **T1, T2, T3 三個時間點** 的設計！

### 2. 前 20 個特徵就夠
- 用全部特徵 vs 前 20 個特徵：效能相近
- **啟示**：不需要太多特徵，重點是選對的

### 3. 虛擬健檢有效
- 模擬減重後，5.48%-6.70% 的高 BMI 患者被重新分類為「低風險」
- **意義**：可以給病人具體的減重目標

---

## 🆚 與我們研究的比較

| 項目 | Taiwan MJ 高血壓論文 | 我們的研究 |
|------|---------------------|-----------|
| **資料來源** | Taiwan MJ Health | ❓（需確認） |
| **預測目標** | 下次健檢（短期） | T3 時間點（長期 2-6 年） |
| **疾病** | 僅高血壓 | 三高（高血壓+高血糖+高血脂） |
| **模型** | XGBoost, LightGBM, RF | LR, RF, XGB, ANN, SVM, GP |
| **評估指標** | AUC, Precision, Recall, F1 | AUC, F1, Recall |
| **特色** | 虛擬健檢 | Δ 特徵、MTL、SHAP |
| **可解釋性** | 特徵重要性 | SHAP 詳細分析（我們要做） |

---

## 💡 對我們的啟發

### ✅ 可以參考的
1. **多次訪問的重要性**：證明我們用 T1-T3 是對的
2. **特徵選擇策略**：前 20 個特徵足夠
3. **虛擬健檢概念**：我們可以做「虛擬 Δ」實驗
4. **評估指標選擇**：AUC + Precision + Recall + F1 是標準

### 🤔 我們的優勢
1. **預測時間更長**：2-6 年 vs 下次訪問
2. **預測三種疾病**：不只高血壓
3. **SHAP 可解釋性**：比單純特徵重要性更詳細
4. **MTL 多任務學習**：一次預測三種疾病

### 🔧 可以改進的
1. **補充 Precision**：我們目前主要看 AUC, F1, Recall
2. **特徵選擇實驗**：測試只用前 N 個重要特徵
3. **虛擬實驗**：模擬「如果 FPG 降低 X」會怎樣

---

## 📈 論文數據摘要

### 資料規模
- 207,488 位獨特訪客
- 男性：101,188 人
- 女性：106,300 人
- 總訪問次數：382,610 次

### 效能指標
- **AUC**：88.94%（XGBoost）
- **Precision**：69.59%
- **Recall**：77.90%
- **F1 Score**：73.51%

### 虛擬健檢效果
- 5.48%-6.70% 高 BMI 患者從「高風險」→「低風險」

---

## 🚫 研究限制

1. **資料無法公開**：MJ Health 版權限制
2. **虛擬健檢未驗證**：缺乏真實減重後的追蹤資料
3. **未用影像特徵**：心電圖、眼底照片可能進一步提升效能
4. **計算成本**：影像特徵提取成本高

---

## 📝 Meeting 18 報告重點

### 可以講的
1. **同資料來源**：Taiwan MJ Health（如果我們也是）
2. **證明多時間點有用**：訪問次數↑ → 準確度↑
3. **我們的優勢**：長期預測（2-6 年）、三高同時預測
4. **可以學習**：虛擬健檢概念 → 虛擬 Δ 實驗

### 可以討論的
1. 我們要不要也做 Precision 評估？
2. 我們要不要做特徵選擇實驗（前 N 個）？
3. 虛擬 Δ 實驗可行嗎？（模擬「如果 FPG 降 X」）

---

## 🔗 相關文件

- [論文候選清單_從Dual2025延伸.md](../memos/論文候選清單_從Dual2025延伸.md)
- [1月8日前完整Meeting準備.md](../memos/1月8日前完整Meeting準備.md)
- [混淆矩陣評估指標補充.md](../memos/混淆矩陣評估指標補充.md)

---

## 📚 引用資訊

```
Wang CC, Chu TW, Jang JSR (2024)
Next-visit prediction and prevention of hypertension using large-scale routine health checkup data.
PLoS ONE 19(11): e0313147.
https://doi.org/10.1371/journal.pone.0313147
```
