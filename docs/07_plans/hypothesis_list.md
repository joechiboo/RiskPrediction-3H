# 實驗假說列表

> **建立日期**：2026-01-08
> **最後更新**：2026-01-13

---

## 假說總覽（10 個，按重要性排序）

| # | 假說題目 | 結果 | Notebook |
|---|----------|------|----------|
| **核心發現** ||||
| H1 | 加入變化量（Delta）有幫助嗎？ | ✅ 有 | 21 |
| H2 | 簡單模型能接近複雜模型嗎？ | ✅ 能 | 17 |
| H3 | 只用 Top 5 特徵夠嗎？ | ✅ 夠 | 22 |
| **支持性發現** ||||
| H4 | 健檢次數越多，預測越準嗎？ | ✅ 是 | 14 |
| H5 | 哪些特徵最重要？ | 見下 | 19 |
| H6 | 類別平衡能提升 Sensitivity 嗎？ | ✅ 能 | 10 |
| **負面但有價值** ||||
| H7 | 同時預測三高比分開預測好嗎？ | ❌ 否 | 20 |
| H8 | 三高之間有相關性嗎？ | ❌ 弱 | 20 |
| H9 | Decision Tree 表現如何？ | 最差 | 17 |
| **待完成** ||||
| H10 | 能找到可解釋的數學公式嗎？ | ⏳ 待做 | 18 |

---

## H1：健檢次數越多，預測越準嗎？

**結論**：✅ 是，但 1 次已經很準

| 健檢次數 | 高血壓 | 高血糖 | 高血脂 | 平均 |
|----------|--------|--------|--------|------|
| 1 次 | 0.666 | 0.931 | 0.867 | 0.821 |
| 2 次 | 0.679 | 0.940 | 0.879 | 0.832 |
| 3 次 | 0.676 | 0.942 | 0.883 | 0.834 |
| 4 次 | **0.835** | **0.945** | 0.882 | **0.887** |

**發現**：
- 高血壓受益最大：4 次 vs 1 次 +0.170
- 高血糖/高血脂：1 次已達 0.93/0.87，邊際效益小

---

## H2：加入變化量（Delta）有幫助嗎？

**結論**：✅ 有，AUC 提升 2~7%

| 特徵集 | 高血壓 | 高血糖 | 高血脂 |
|--------|--------|--------|--------|
| T2 only | 0.684 | 0.902 | 0.808 |
| T2 + Delta | 0.733 | 0.922 | 0.845 |
| **提升** | **+7.2%** | **+2.2%** | **+4.6%** |

**發現**：Delta 特徵對高血壓貢獻最大

---

## H3：同時預測三高（MTL）比分開預測（STL）好嗎？

**結論**：❌ 否，無顯著差異

| 方法 | 高血壓 | 高血糖 | 高血脂 | 平均 |
|------|--------|--------|--------|------|
| MTL | 0.734 | 0.932 | 0.868 | 0.845 |
| STL | 0.742 | 0.933 | 0.869 | 0.848 |

**原因**：三高之間相關性弱（Phi 係數 < 0.1），MTL 無法從共享學習中獲益

**價值**：這是「有價值的負面結果」

---

## H2：簡單模型（LR）能接近複雜模型（RF/XGB）嗎？

**結論**：✅ 能，LR 在 2/3 疾病表現最佳

| 疾病 | 最佳模型 | AUC |
|------|----------|-----|
| 高血壓 | RF | 0.743 |
| 高血糖 | **LR** | 0.938 |
| 高血脂 | **LR** | 0.867 |

**為什麼 LR 能贏？**
1. 特徵與目標是線性關係（FBG↑ → 高血糖風險↑）
2. 核心指標主導預測，特徵間交互作用不重要
3. RF/XGB 的非線性優勢發揮不出來

**臨床意義**：可用簡單 LR 模型，易於解釋給病患

---

## H6：類別不平衡處理能提升 Sensitivity 嗎？

**結論**：✅ 能，class_weight Sensitivity 提升 +35%

| 方法 | AUC | Sensitivity | 狀態 |
|------|-----|-------------|------|
| None | ~相同 | 0.30 | ✅ 已測 |
| class_weight='balanced' | ~相同 | **0.65** | ✅ 已測 |
| SMOTE | ? | ? | ⏳ 待做 |
| ADASYN | ? | ? | ⏳ 待做 |

**意義**：對不平衡資料，class_weight='balanced' 是必要的

**待做**：比較 SMOTE / ADASYN 是否比 class_weight 更好

---

## H6：只用 Top 5 特徵夠嗎？

**結論**：✅ 夠，達到 99.7~100% 的完整模型效能

| 特徵數 | 高血壓 | 高血糖 | 高血脂 |
|--------|--------|--------|--------|
| Top 5 | 0.752 | 0.933 | 0.868 |
| 全部 26 | 0.754 | 0.932 | 0.867 |
| **保留率** | 99.7% | 100% | 100% |

**意義**：核心指標（SBP、FBG、TC）主導預測，其他特徵貢獻極小

---

## H7：Decision Tree 表現如何？

**結論**：所有模型中最差

| 疾病 | DT AUC | 最佳模型 | 最佳 AUC | 差距 |
|------|--------|----------|----------|------|
| 高血壓 | 0.658 | RF | 0.743 | -0.085 |
| 高血糖 | 0.835 | LR | 0.938 | -0.103 |
| 高血脂 | 0.744 | LR | 0.867 | -0.123 |

**意義**：單棵 DT 效能差，但 RF（多棵 DT 集成）效能顯著提升

---

## H8：三高之間有相關性嗎？

**結論**：❌ 相關性很弱

| 疾病對 | Phi 係數 | 強度 |
|--------|----------|------|
| 高血壓 vs 高血糖 | 0.066 | 極弱 |
| 高血壓 vs 高血脂 | 0.043 | 極弱 |
| 高血糖 vs 高血脂 | 0.089 | 極弱 |

**意義**：三高是獨立疾病，這解釋了為何 MTL 沒有優勢

---

## H9：哪些特徵最重要？

**結論**：核心指標主導預測

| 疾病 | Top 3 特徵 |
|------|-----------|
| 高血壓 | SBP_T2, Age, BMI_T2 |
| 高血糖 | FBG_T2, FBG_T1, Delta_FBG |
| 高血脂 | TC_T2, TC_T1, Delta_TC |

**發現**：
- T2 時間點最重要（最接近預測目標）
- Delta 特徵出現在 Top 5
- 符合臨床直覺

---

## H10：能找到可解釋的數學公式嗎？

**結論**：⏳ 待完成（需用滑動窗口資料重做）

**初步發現**（舊資料）：
- 高血壓：SBP 是主要因子
- 高血糖：FBG 是主要因子
- 高血脂：TC 是主要因子

**待做**：
- 使用滑動窗口資料重跑 PySR
- 測試不同深度設定（maxsize = 35, 50）
- 評估公式的臨床可解釋性

---


## 相關文件

- [Experiment_Overview.md](../03_experiments/Experiment_Overview.md) - 實驗總覽
- [MTL_vs_STL_完整分析.md](../03_experiments/summaries/MTL_vs_STL_完整分析.md)
- [Delta_Ablation_完整分析.md](../03_experiments/summaries/Delta_Ablation_完整分析.md)
