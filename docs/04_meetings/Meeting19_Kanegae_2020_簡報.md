# Meeting 19 簡報

> **日期**：2026-01-14
> **內容**：Kanegae 2020 論文導讀 + 實驗成果報告

---

# Part 1: Kanegae 2020 論文導讀（Slide 1-7）+ 後續方向（Slide 8-9）

---

## Slide 1: 封面

### Highly Precise Risk Prediction Model for New-Onset Hypertension Using Artificial Intelligence Techniques

**使用人工智慧技術建立高精度新發高血壓風險預測模型**

- **Authors**: Kanegae H, Suzuki K, Fukatani K, Ito T, Harada N, Kario K
- **Institution**: Jichi Medical University, Japan
- **Journal**: J Clin Hypertens, 2020; 22(3): 445-450
- **Impact Factor**: 2.33 (Q2)
- **DOI**: 10.1111/jch.13759

---

**📝 講稿（1分鐘）**

> 各位好，今天要報告的論文是「Highly Precise Risk Prediction Model for New-Onset Hypertension Using Artificial Intelligence Techniques」，中文是「使用人工智慧技術建立高精度新發高血壓風險預測模型」。
>
> 這篇論文發表在 2020 年的 Journal of Clinical Hypertension，影響因子 2.33，屬於 Q2 期刊。作者來自日本自治醫科大學。
>
> 這篇論文與我們的研究高度相關，因為它也是使用健檢資料來預測高血壓，而且使用了「多時間點」和「變化量特徵」的方法，跟我們的研究設計非常相似。

---

## Slide 2: 研究背景

### 為什麼要預測高血壓？

| 問題 | 說明 |
|------|------|
| 臨床需求 | 高血壓是心血管疾病主要風險因子，全球約 10 億人受影響 |
| 研究空白 | 傳統統計方法難以捕捉複雜非線性關係 |
| 研究目標 | 用機器學習開發高精度預測模型 |

### 排除標準（重要）

| 排除條件 | 目的 |
|----------|------|
| 已有高血壓診斷 | 預測「新發」高血壓 |
| 正在使用降壓藥物 | 避免藥物干擾血壓值 |
| 數據缺失嚴重 | 資料品質 |

---

**📝 講稿（1分鐘）**

> 首先來看研究背景。高血壓是心血管疾病最重要的風險因子，全球約有 10 億人受到影響。傳統的統計方法難以捕捉複雜的非線性關係，所以這篇論文的目標是用機器學習來開發更精準的預測模型。
>
> 這裡要特別強調他們的排除標準：已有高血壓診斷的人、正在使用降壓藥物的人都被排除了。這樣做的目的是為了預測「新發」高血壓，而不是已知的高血壓患者。這點跟我們的研究有所不同，我們的資料集可能沒有藥物使用紀錄，這是一個限制。

---

## Slide 3: 研究設計

### 資料與時間軸

| 項目 | 內容 |
|------|------|
| 來源 | 日本職場健康檢查（CAVI 測量） |
| 時間 | 2005-2016 年（11 年） |
| 樣本數 | 18,258 人 |
| 新發高血壓 | 2,672 例 (14.6%) |

### 時間軸設計

```
Year(-2)     →     Year(-1)     →     Year(0)
   ↓                  ↓                  ↓
 特徵 1            特徵 2            預測目標
        \_________ Δ _________/
        Δ = Year(-1) − Year(-2)
```

---

**📝 講稿（1分鐘）**

> 資料來源是日本的職場健康檢查，特別的是他們使用了 CAVI（心踝血管指數）測量的資料。資料期間是 2005 到 2016 年，共 11 年，樣本數超過 1.8 萬人，其中新發高血壓有 2,672 例，佔 14.6%。
>
> 時間軸設計跟我們非常相似：用 Year(-2) 和 Year(-1) 的資料來預測 Year(0) 的高血壓狀態。這裡的命名方式我覺得比我們的 T1、T2、T3 更直覺，Year(0) 就是預測目標年，Year(-1) 是前一年。我們之後的論文也可以考慮採用這種命名方式。

---

## Slide 4: 核心創新 - Delta 特徵

### 使用縱向變化量作為特徵

| 類型 | 說明 | 例子 |
|------|------|------|
| Year(-2) 測量值 | 兩年前的數據 | SBP_Y-2 |
| Year(-1) 測量值 | 一年前的數據 | SBP_Y-1 |
| **變化量 (Δ)** | 兩年間的變化 | ΔSBP = SBP_Y-1 − SBP_Y-2 |

> **論文原文**：
> "The prediction model was constructed based on variables at Year(−1), Year(−2), and **changes** from Year(−2) to Year(−1)."

---

**📝 講稿（1分鐘）**

> 這篇論文的核心創新是使用「縱向變化量」作為特徵。他們不只用單一時間點的數據，還計算兩年間的變化量。
>
> 舉例來說，除了使用 Year(-2) 和 Year(-1) 的收縮壓，還會計算 ΔSBP，也就是血壓的變化量。這個設計跟我們的 Delta 特徵完全一致。
>
> 論文原文明確寫道：預測模型是基於 Year(-1)、Year(-2) 的變數，以及從 Year(-2) 到 Year(-1) 的「變化」來建構的。這驗證了我們使用 Delta 特徵的方法是有文獻依據的。

---

## Slide 5: 方法論

### 模型與評估

| 模型 | 類型 | 說明 |
|------|------|------|
| XGBoost | 機器學習（梯度提升）| 單一模型 |
| **Ensemble** | 機器學習（集成）| **Bagging: LR + RF + XGBoost** |
| Logistic Regression | 傳統統計（基準）| 單一模型 |

> **Ensemble 組成**：使用 Bagging 方法結合三個模型—Regularized Logistic Regression、Random Forest、XGBoost

### 資料分割

- **訓練集**：75%
- **驗證集**：25%（內部驗證）

### 評估指標

- **AUC-ROC**：主要指標

---

**📝 講稿（1分鐘）**

> 在方法論上，他們比較了三種模型：XGBoost、Ensemble 集成模型，以及 Logistic Regression 作為基準。
>
> 資料分割採用 75% 訓練、25% 驗證的方式，這是內部驗證，沒有外部驗證。評估指標主要是 AUC-ROC。
>
> 跟我們的研究比較，我們用了更多種模型（LR、RF、XGBoost、SVM、MLP、DT），而且我們用 5-Fold CV 加上 GroupKFold 來防止資料洩漏，驗證策略更嚴謹。

---

## Slide 6: 結果 - 模型比較

### 機器學習優於傳統統計

| 模型 | AUC | 排名 |
|------|-----|------|
| **Ensemble** | **0.881** | 1 |
| XGBoost | 0.877 | 2 |
| Logistic Regression | 0.859 | 3 |

### 結論

- 機器學習比傳統統計 **+2.2%**
- 但差距不大，LR 也有 0.86 的 AUC

---

**📝 講稿（1分鐘）**

> 來看實驗結果。Ensemble 模型表現最好，AUC 達到 0.881；XGBoost 是 0.877；Logistic Regression 是 0.859。
>
> 機器學習比傳統統計大約高 2%，但其實差距不大。這跟我們的發現類似：在我們的實驗中，LR 在高血糖和高血脂的表現甚至比 RF 和 XGBoost 更好。這說明對於某些疾病預測，簡單的可解釋模型就已經足夠。

---

## Slide 7: 結果 - 特徵重要性

### 什麼因素最能預測高血壓？

| 排名 | 特徵 | 相對重要性 |
|------|------|-----------:|
| 1 | SBP at CAVI measurement, Year(-1) | **100%** |
| 2 | Clinic SBP, Year(-1) | 57.3% |
| 3 | DBP at CAVI measurement, Year(-1) | 47.8% |
| ... | （血壓相關特徵佔前 8 名） | ... |
| 9 | BMI, Year(-1) | 10.6% |
| 10 | Age, Year(-2) | 10.3% |

### 結論

- **前 8 名都是血壓相關特徵**（CAVI 血壓 + Clinic 血壓）
- BMI、Age 排在第 9、10 名，約為最重要特徵的 1/10
- 符合臨床直覺：血壓預測血壓

---

**📝 講稿（1分鐘）**

> 特徵重要性分析顯示，前 8 名都是血壓相關特徵。最重要的是 Year(-1) 的 CAVI 測量血壓，設為基準 100%。第二名是診所血壓，約 57%。
>
> BMI 和年齡雖然也是重要的預測因子，但排在第 9、10 名，相對重要性只有 10% 左右。這說明**當前血壓狀態**是預測未來高血壓最重要的因素，符合臨床直覺。

---

## Slide 8: 與我們研究的關聯

| 項目 | Kanegae 2020 | 我們的研究 |
|------|--------------|------------|
| 縱向設計 | Year(-2) → Year(-1) → Year(0) | Y-2 → Y-1 → Y0 |
| Δ 變化量 | ✅ | ✅ |
| 樣本數 | 18,258 人 | 6,056 人 |
| 預測目標 | 高血壓（1 種） | **三高（3 種）** |
| 外部驗證 | ❌ | ❌（Synthea 不適用） |
| 可解釋性 | 僅特徵重要性 | **SHAP + PySR 公式** |
| AUC（高血壓） | 0.877 | 0.743 |

### 引用價值

> 驗證我們使用「縱向變化量特徵」的方法是有文獻依據的！

---

**📝 講稿（1分鐘）**

> 比較一下這篇論文和我們的研究。時間軸設計幾乎一樣，都用兩年的資料預測第三年。Delta 變化量特徵的設計也一樣。
>
> 他們的樣本數比我們多（1.8 萬 vs 6 千），AUC 也比我們高（0.877 vs 0.743）。但我們有一些優勢：我們同時預測三高，不只是高血壓；我們用 SHAP 和 PySR 做更深入的可解釋性分析。
>
> 這篇論文的引用價值在於：它驗證了我們使用「縱向變化量特徵」的方法是有文獻依據的。

---

## Slide 9: MJ Health 資料申請調查

### 基本資訊

| 項目 | 內容 |
|------|------|
| 來源 | 財團法人演譯基金會（美兆健檢） |
| 規模 | 亞洲最大，累積超過 **300 萬筆**記錄 |
| 網站 | http://www.mjhrf.org/ |

### 費用估算

| 方案 | 樣本數 | 預估費用 |
|------|--------|----------|
| 基本 | 5 萬人 | ~NT$ 50,000 |
| 建議 | 10 萬人 | ~NT$ 67,000 |
| 充足 | 20 萬人 | ~NT$ 97,000 |

### 申請限制

- 變項數上限：健康數據 70 個 + 問卷 130 個 = **200 個**
- 資料使用期限：**2 年**（可展延半年）

---

**📝 講稿（1分鐘）**

> 關於外部驗證，我們調查了 MJ Health 美兆的資料申請。這是亞洲最大的健康資料庫，累積超過 300 萬筆記錄，Taiwan MJ 2024 那篇論文就是用這個資料。
>
> 費用方面，如果申請 10 萬人的資料，大約需要 6-7 萬台幣。變項數上限是 200 個，使用期限 2 年。
>
> 如果要做真正的外部驗證，這是一個可行的選項，但需要考慮費用和時間。

---

## Part 2: 實驗成果報告（Slide 12-21）

---

## Slide 12: Problem Definition

### 數學定義

**輸入**（26 個特徵）：
$$X = [sex, Age, X_{Y-2}, X_{Y-1}, \Delta X]$$

- $sex$：性別（不變）
- $Age$：Y0 時的年齡（每組 record 不同）
- $X_{Y-2}$：8 個健檢指標（FBG, TC, Cr, UA, GFR, BMI, SBP, DBP）
- $X_{Y-1}$：8 個健檢指標（同上）
- $\Delta X = X_{Y-1} - X_{Y-2}$：8 個變化量

**輸出**：
$$\hat{Y} = [\hat{y}_{高血壓}, \hat{y}_{高血糖}, \hat{y}_{高血脂}] \in [0,1]^3$$

---

**📝 講稿（1分鐘）**

> 接下來報告我們的實驗成果。首先是問題定義。
>
> 輸入共 26 個特徵：性別、年齡，加上 Y-2 和 Y-1 各 8 個健檢指標，再加上 8 個變化量。年齡是 Y0 時間點的值，每組滑動窗口都不同。
>
> 輸出是三個疾病的風險機率：高血壓、高血糖、高血脂，每個都是 0 到 1 之間的數值。這個設計跟 Kanegae 2020 類似，但我們同時預測三種疾病。

---

## Slide 13: 輸出：機率 vs 二元

### 範例：某病人的預測結果

| 步驟 | 輸出 | 說明 |
|------|------|------|
| 1. 模型預測 | 0.72 | 高血壓風險機率 72% |
| 2. 設定閾值 | 0.5 | 超過 50% 視為高風險 |
| 3. 二元結果 | **是** | 0.72 > 0.5 → 預測「會得高血壓」|

### 兩種輸出的用途

| 輸出類型 | 範例 | 用途 | 評估指標 |
|----------|------|------|----------|
| 機率 (0~1) | 0.72, 0.35, 0.89 | 風險排序、決策參考 | AUC |
| 二元 (是/否) | 是, 否, 是 | 篩檢、分類 | Sensitivity, Specificity |

---

**📝 講稿（1分鐘）**

> 模型可以輸出機率值（0 到 1），也可以設定閾值轉換成二元分類（是或否）。
>
> 機率輸出適合用於風險排序和決策參考，評估指標是 AUC。二元輸出適合用於篩檢和分類，評估指標是 Sensitivity 和 Specificity。
>
> 我們的實驗主要報告 AUC，因為它不受閾值選擇的影響，更能反映模型的整體區分能力。

---

## Slide 14: 5-Fold CV 最終結果

### StratifiedGroupKFold（防止資料洩漏）

| 疾病 | 最佳模型 | AUC | 95% CI |
|------|----------|----:|--------|
| 高血壓 | RF | 0.743 | (0.725, 0.762) |
| 高血糖 | LR | 0.938 | (0.924, 0.951) |
| 高血脂 | LR | 0.867 | (0.850, 0.884) |

### 資料

- 滑動窗口：13,514 筆
- 患者數：6,056 人

---

**📝 講稿（1分鐘）**

> 這是我們的主要結果。使用 StratifiedGroupKFold 做 5-Fold 交叉驗證，確保同一個病人的資料不會同時出現在訓練集和測試集，防止資料洩漏。
>
> 高血壓最佳模型是 Random Forest，AUC 0.743。高血糖和高血脂最佳模型都是 Logistic Regression，AUC 分別是 0.938 和 0.867。
>
> 高血糖的 AUC 特別高，接近 0.94，這是因為空腹血糖本身就是很強的預測因子。

---

## Slide 15: 模型比較

| 模型 | 高血壓 | 高血糖 | 高血脂 | Avg std | 特點 |
|------|-------:|-------:|-------:|--------:|------|
| LR | 0.721 | **0.938** | **0.867** | 0.013 | 可解釋 |
| RF | **0.743** | 0.932 | 0.859 | 0.012 | 穩定 |
| XGBoost | 0.738 | 0.930 | 0.857 | 0.014 | 快速 |
| SVM | 0.726 | 0.919 | 0.845 | 0.012 | - |
| MLP | 0.703 | 0.919 | 0.742 | 0.063 | 不穩定 |
| PySR | 0.580 | 0.918 | 0.640 | **0.106** | 公式可解釋 |
| DT | 0.658 | 0.835 | 0.744 | 0.021 | 最差 |

> Avg std = 三個疾病 AUC 標準差的平均值。PySR 變異最高，定位為**可解釋性工具**

### 結論

- LR 在 2/3 疾病表現最佳
- 複雜模型不一定比簡單模型好
- PySR 效能略低，但產出可解釋公式

---

**📝 講稿（1分鐘）**

> 這是所有模型的比較。可以看到 Logistic Regression 在高血糖和高血脂都是最佳，只有高血壓是 Random Forest 最好。
>
> Decision Tree 表現最差，這是因為單一決策樹容易過擬合。其他模型的差距都不大，大約在 1-2% 以內。
>
> PySR 是符號回歸，效能略低但它的價值在於產出可解釋的數學公式，這在後面的 Slide 會詳細說明。
>
> 重要的結論是：複雜的黑盒模型不一定比簡單的可解釋模型好。這對臨床應用很重要，因為可解釋性在醫療領域非常關鍵。

---

## Slide 16: 健檢次數實驗（H1）

### 假說：健檢次數越多，預測越準

| 健檢次數 | 高血壓 | 高血糖 | 高血脂 |
|----------|-------:|-------:|-------:|
| 1 次 | 0.666 | 0.931 | 0.867 |
| 2 次 | 0.679 | 0.940 | 0.879 |
| 3 次 | 0.676 | 0.942 | 0.883 |
| 4 次 | **0.835** | **0.945** | **0.882** |
| **差異（1→4）** | **+0.169** | +0.014 | +0.015 |

### 結論

- ✅ **已驗證**
- 高血壓：2→3 次無提升，3→4 次大幅跳升（+16%）
- 高血糖/高血脂：1 次健檢就很準，增加次數效益有限

---

**📝 講稿（1分鐘）**

> 假說 H1：健檢次數越多，預測越準。這跟 Kanegae 2020 和 Taiwan MJ 論文的發現一致。
>
> 表格顯示完整的 1 到 4 次健檢比較。高血壓的變化最有趣：1→2→3 次只有微幅提升，但 3→4 次突然大幅跳升 16%，從 0.676 到 0.835。這說明高血壓需要更長期的歷史資料才能準確預測。
>
> 高血糖和高血脂則是 1 次健檢就已經很準（0.93 和 0.87），增加健檢次數的效益有限。這是因為血糖和膽固醇本身就是很強的預測因子。

---

## Slide 17: Delta 特徵消融（H2）

### 假說：變化量特徵能提升效能

**比較框架**：Y-1 Only vs Y-1 + Δ（LR 模型）

| 特徵組合 | 高血壓 | 高血糖 | 高血脂 |
|----------|-------:|-------:|-------:|
| Y-1 Only | 0.698 | 0.923 | 0.846 |
| Y-1 + Δ | **0.721** | **0.938** | **0.867** |
| **提升** | **+2.3%** | +1.5% | +2.1% |

### 結論

- ✅ **已驗證**
- Delta 特徵對三種疾病都有穩定貢獻（+1.5~2.3%）
- 注意：若模型已有 Y-2 和 Y-1，Delta 效果趨近於 0（模型可自行學到）

---

**📝 講稿（1分鐘）**

> 假說 H2：Delta 變化量特徵能提升效能。
>
> 我們比較只用 Y-1 資料，和加入 Delta 後的效能差異。結果顯示：加入 Delta 後，三種疾病的 AUC 都提升約 1.5~2.3%。
>
> 這裡要注意一點：如果模型同時擁有 Y-2 和 Y-1 的資料，Delta 的效果會趨近於零，因為模型可以自己學到變化量。Delta 的價值在於：它能用 8 個特徵編碼兩個時間點的變化關係，是一種有效的特徵工程。

---

## Slide 18: MTL vs STL（H3）

### 假說：多任務學習優於單任務學習

| 方法 | 高血壓 | 高血糖 | 高血脂 | 平均 | 時間 |
|------|-------:|-------:|-------:|-----:|-----:|
| MTL | 0.734 | 0.932 | 0.868 | 0.845 | 9.0 秒 |
| STL | 0.742 | 0.933 | 0.869 | 0.848 | 10.9 秒 |
| **差異** | -0.008 | -0.001 | -0.001 | -0.003 | 1.2x 快 |

### 結論

- ❌ **未驗證**
- 三高相關性弱（Phi < 0.1）
- 時間優勢有限（1.2x，非理論 3x）
- 這是**有價值的負面結果**

---

**📝 講稿（1分鐘）**

> 假說 H3：多任務學習優於單任務學習。我們原本假設同時預測三高可以讓模型學到共享的特徵表示。
>
> 結果顯示：MTL 和 STL 的效能幾乎一樣，差異不到 1%。進一步分析發現，三高之間的 Phi 相關係數都小於 0.1，相關性很弱。
>
> 這是一個負面結果，但也是有價值的發現：它說明三高雖然都是代謝疾病，但在預測上是相對獨立的任務。

---

## Slide 19: PySR 符號回歸實驗總結（H6）

### 實驗歷程

| 階段 | 工具 | 結果 | 產出公式 |
|------|------|------|----------|
| 1. gplearn | gplearn (generations=100) | ❌ 失敗：不支援 class_weight | - |
| 2. PySR 初次 | PySR (niterations=40) | ❌ 高血壓退化常數 (AUC=0.50) | 常數 |
| 3. PySR 調參 | PySR (niterations=100) | ⚠️ 單次成功 (AUC=0.745) | `0.106×exp(SBP)` |
| 4. 5-Fold CV | PySR (niterations=200), 161 min | ✅ **僅高血糖穩定** | `0.12×FBG_Y-1` |
| 5. 樹深度實驗 | PySR (maxsize=35), 140 min | ❌ 6/9 fold 退化常數 | `0.065×(SBP_Y-2+SBP_Y-1)` 僅+1% |

### 最終結果（5-Fold CV）

| 疾病 | AUC | 穩定性 | 公式 |
|------|----:|:------:|------|
| 高血壓 | 0.580 | ❌ 3/5 常數 | `0.09 × SBP_Y-1 + 0.19` |
| **高血糖** | **0.918** | ✅ 5/5 穩定 | **`0.12 × FBG_Y-1`** |
| 高血脂 | 0.640 | ❌ 3/5 常數 | `0.09 × TC_Y-1 + 0.08` |

### 結論

- ✅ **部分驗證**：高血糖公式穩定且有臨床意義
- 高血壓/高血脂 PySR 容易退化為常數解
- **建議**：論文以高血糖公式為主要範例

---

**📝 講稿（1分鐘）**

> 假說 H6：符號回歸能找到有意義的數學公式。
>
> 我們經歷了多次實驗：一開始用 gplearn 套件，但它不支援 class_weight，在類別不平衡資料上必然失敗。後來改用 PySR，一開始設定 40 次迭代，高血壓退化為常數。依教授建議增加到 100 次迭代後，高血壓終於成功，AUC 達到 0.745。
>
> 但是做 5-Fold 交叉驗證後發現：只有高血糖的公式是穩定的，5 個 fold 都產出「0.12 乘以空腹血糖」，AUC 達到 0.918。高血壓和高血脂在 5 個 fold 中有 3 個退化為常數解。
>
> 所以結論是部分成功：高血糖公式穩定且有臨床意義，但高血壓和高血脂的符號回歸搜索不穩定。論文建議以高血糖公式作為可解釋性的主要範例。

---

## Slide 20: MJ Health 資料申請調查

### 基本資訊

| 項目 | 內容 |
|------|------|
| 來源 | 財團法人演譯基金會（美兆健檢） |
| 規模 | 亞洲最大，累積超過 **300 萬筆**記錄 |
| 網站 | http://www.mjhrf.org/ |

### 費用估算

| 方案 | 樣本數 | 預估費用 |
|------|--------|----------|
| 基本 | 5 萬人 | ~NT$ 50,000 |
| 建議 | 10 萬人 | ~NT$ 67,000 |
| 充足 | 20 萬人 | ~NT$ 97,000 |

### 申請限制

- 變項數上限：健康數據 70 個 + 問卷 130 個 = **200 個**
- 資料使用期限：**2 年**（可展延半年）

---

**📝 講稿（1分鐘）**

> 關於外部驗證，我們調查了 MJ Health 美兆的資料申請。這是亞洲最大的健康資料庫，累積超過 300 萬筆記錄，Taiwan MJ 2024 那篇論文就是用這個資料。
>
> 費用方面，如果申請 10 萬人的資料，大約需要 6-7 萬台幣。變項數上限是 200 個，使用期限 2 年。
>
> 如果要做真正的外部驗證，這是一個可行的選項，但需要考慮費用和時間。

---

## Slide 21: 外部驗證失敗分析

### Synthea 資料問題

| 特徵 | Synthea 缺失率 | 影響疾病 |
|------|---------------:|----------|
| FBG（空腹血糖） | **69%** | 高血糖 ❌ |
| TC（總膽固醇） | **72%** | 高血脂 ⚠️ |
| SBP/DBP | 0% | 高血壓 ✅ |

### 高血糖為何不可行？

| 有 FBG 記錄的樣本 | 數量 |
|------------------|-----:|
| 高血糖（異常） | 4,465 |
| 正常 | **25** |
| **陽性比例** | **99.4%** |

→ Synthea 只對糖尿病患者記錄 FBG，正常人幾乎沒有 FBG

### 高血壓外部驗證結果

| Model | SUA (內部) | Synthea (外部) | 差異 |
|-------|----------:|---------------:|-----:|
| LR | 0.718 | 0.625 | **-9.4%** |
| RF | 0.724 | 0.605 | **-11.9%** |

### 結論

- ❌ 高血糖/高血脂：資料缺失+選擇偏差，無法驗證
- ⚠️ 高血壓：AUC 下降 ~10-12%（domain shift）
- **Synthea 合成資料不適合作為外部驗證**

---

**📝 講稿（1分鐘）**

> 外部驗證我們嘗試使用 Synthea 合成醫療資料，但發現不適合。
>
> 首先是資料品質問題：空腹血糖缺失 69%，總膽固醇缺失 72%。更嚴重的是選擇偏差——Synthea 的資料生成邏輯是「只對糖尿病患者記錄血糖」，導致有血糖記錄的樣本中 99.4% 是高血糖患者，這根本無法做二元分類。
>
> 高血壓因為血壓完整可以做，但 AUC 從內部驗證的 0.72 下降到外部的 0.60-0.63，下降約 10-12%。這是 domain shift 的典型表現：Synthea 平均年齡 44 歲，我們的資料平均 68 歲，族群完全不同。
>
> 結論是 Synthea 合成資料不適合作為外部驗證，未來可能需要申請 MJ Health 等真實資料。以上是我的報告，謝謝大家。

---

## 附錄：參考資料

**論文**：
- Kanegae H, et al. J Clin Hypertens. 2020;22:445-450.
- DOI: [10.1111/jch.13759](https://doi.org/10.1111/jch.13759)

**Notebooks**：
- 17_SlidingWindow_5FoldCV.ipynb（主要結果）
- 19_SHAP_SlidingWindow.ipynb（SHAP）
- 21_Delta_Ablation.ipynb（消融）
- 23_PySR_SlidingWindow.ipynb（PySR）
- 25_PySR_Depth_Experiment.ipynb（PySR 深度實驗）

**命名對照**：
- T1 → Y-2（兩年前）
- T2 → Y-1（一年前）
- T3 → Y0（預測目標）
